<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>Windows 子系統 Linux 版 (WSL)</title><meta name=description content="Welcome! Wish You Have A Good Day!"><meta name=keywords content><meta property="og:url" content="http://lovelinyj.github.io/posts/wsl/"><meta property="og:type" content="website"><meta property="og:title" content="Windows 子系統 Linux 版 (WSL)"><meta property="og:description" content="Welcome! Wish You Have A Good Day!"><meta property="og:image" content><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Windows 子系統 Linux 版 (WSL)"><meta name=twitter:description content="Welcome! Wish You Have A Good Day!"><meta property="twitter:domain" content="http://lovelinyj.github.io/posts/wsl/"><meta property="twitter:url" content="http://lovelinyj.github.io/posts/wsl/"><meta name=twitter:image content><link rel=canonical href=http://lovelinyj.github.io/posts/wsl/><link rel=stylesheet type=text/css href=/css/normalize.min.css media=print onload='this.media="all"'><link rel=stylesheet type=text/css href=/css/main.css><link disabled id=dark-theme rel=stylesheet href=/css/dark.css><script src=/js/svg-injector.min.js></script>
<script src=/js/feather-icons.min.js></script>
<script src=/js/main.js></script></head><body><script type=text/javascript>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=nav-title><a class=nav-brand href=http://lovelinyj.github.io/>Musky's blog</a></div><div class=nav-links><div class=nav-link><a href=/posts/>Posts</a></div><div class=nav-link><a href=/tags/>Tags</a></div><div class=nav-link><a href=https://github.com/lovelinyj><span data-feather=github></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><a><span id=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=/posts/>Posts</a></li><li class=nav-item><a href=/tags/>Tags</a></li><li class=nav-item><a href=https://github.com/lovelinyj><span data-feather=github></span></a></li><li class="nav-item dark-theme-toggle"><a><span id=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>Windows 子系統 Linux 版 (WSL)</h1><small role=doc-subtitle></small><p class=post-date>March 28, 2022</p><ul class=post-tags></ul></div><div class=post-content><p><h1 id=windows-subsystem-linux-wsl>Windows subsystem Linux (WSL)</h1><p>可讓開發人員直接在未修改的 Windows 上執行 GNU/Linux 環境（包括大部分的命令列工具、公用程式和應用程式），而不會產生傳統虛擬機器或雙重開機安裝的額外負荷。</p><p>適用於 Linux 的 Windows 子系統可讓開發人員執行 GNU/Linux 環境 (包括大部分的命令列工具、公用程式和應用程式)，直接在 Windows 上執行，不需進行修改，不會造成傳統虛擬機器或 dualboot 設定的額外負荷。</p><p><a href=https://docs.microsoft.com/zh-tw/windows/wsl/>Windows Docs</a></p><h1 id=wsl-vs-wsl2>WSL vs WSL2</h1><blockquote><p>從WSL更新到WSL2的主要原因：</p><blockquote><ol><li>增加檔案系統效能</li><li>支援完整系統呼叫相容性</li></ol></blockquote></blockquote><h2 id=比較功能>比較功能</h2><table><thead><tr><th>功能</th><th>WSL 1</th><th>WSL 2</th></tr></thead><tbody><tr><td>Windows 和 Linux 之間的整合</td><td>✅</td><td>✅</td></tr><tr><td>快速開機時間</td><td>✅</td><td>✅</td></tr><tr><td>相較于傳統虛擬機器的小型 resource 墊腳列印</td><td>✅</td><td>✅</td></tr><tr><td>以最新版的 VMware 和 VirtualBox 執行</td><td>✅</td><td>✅</td></tr><tr><td>受控 VM</td><td>❌</td><td>✅</td></tr><tr><td>完整的 Linux 核心</td><td>❌</td><td>✅</td></tr><tr><td>完整的系統呼叫相容性</td><td>❌</td><td>✅</td></tr><tr><td>OS 檔案系統之間的效能</td><td>✅</td><td>❌</td></tr></tbody></table><h1 id=安裝wsl>安裝WSL</h1><h2 id=必要條件>必要條件</h2><p>必須執行 Windows 10 2004 版和更高版本 (組建19041和更新版本的) 或 Windows 11。</p><blockquote><p>查詢windows版本和組建編號：</p><ol><li>請選取Windows 標誌鍵 + R</li><li>輸入<code>winver</code>，然後選取[確定]。</li></ol><p>您可以選取 [開始設定 ]Windows Update檢查更新，以更新至最新的 Windows 版本。</p></blockquote><h2 id=安裝>安裝</h2><p>您現在可以在系統管理員 PowerShell 或 Windows 命令提示字元中輸入此命令，然後重新開機電腦，安裝執行 Windows 子系統 Linux 版 (WSL) 所需的所有專案。</p><blockquote><p><code>wsl --install</code></p></blockquote><h2 id=變更已安裝的預設-linux-發行版本>變更已安裝的預設 Linux 發行版本</h2><p>根據預設，已安裝的 Linux 散發套件會是 Ubuntu。 這可以使用 <code>-d</code>旗標來變更。</p><blockquote><p>若要變更已安裝的散發套件，請輸入： <code>wsl --install -d &lt;Distribution Name></code> 。<br>以您要安裝的散發名稱取代 。<br>若要查看可透過線上商店下載的可用 Linux 發行版本清單，請輸入： <code>wsl --list --online</code> 或 <code>wsl -l -o</code> 。<br>若要在初始安裝之後安裝額外的 Linux 發行版本，您也可以使用命令： wsl &ndash;install -d 。</p></blockquote><h1 id=wsl的基本命令>WSL的基本命令</h1><p>下列 WSL 命令會以 PowerShell 或 Windows 命令提示字元所支援的格式列出。 若要從 Bash/Linux 散發命令列執行這些命令，您必須將取代 wsl 為 wsl.exe 。</p><h2 id=安裝-1>安裝</h2><blockquote><p><code>wsl --install</code></p></blockquote><h2 id=安裝特定的-linux-發行版本>安裝特定的 Linux 發行版本</h2><blockquote><p><code>wsl --install --distribution &lt;Distribution Name></code><br>指定要安裝的 Linux 發行版本，除了預設 (Ubuntu) ，取代 &lt; Distribution Name > 為散發的名稱。<br>此命令也可以輸入為： wsl -d &lt; Distribution Name > 。</p></blockquote><h2 id=列出可用的-linux-發行版本>列出可用的 Linux 發行版本</h2><blockquote><p><code>wsl --list --online</code><br>查看可透過線上商店取得的 Linux 發行版本清單。 此命令也可以輸入為： wsl -l -o</p></blockquote><h2 id=列出已安裝的-linux-發行版本>列出已安裝的 Linux 發行版本</h2><blockquote><p><code>wsl --list --verbose</code><br>查看 Windows 電腦上所安裝的 Linux 發行版本清單，包括 (是否正在執行或) 停止散發的狀態，以及執行散發的 WSL 版本 (WSL 1 或 WSL 2) 。<br>比較 WSL 1 和 WSL 2。 此命令也可以輸入為： <code>wsl -l -v</code> 。<br>可與 list 命令搭配使用的其他選項包括： &ndash;all 要列出所有散發套件、 &ndash;running 只列出目前執行中的發行版本，或 &ndash;quiet 只列出發佈名稱。</p></blockquote><h2 id=將-wsl-版本設定為1或2>將 WSL 版本設定為1或2</h2><blockquote><p><code>wsl --set-default-version &lt;Version></code><br>若要設定 WSL 1 或 WSL 2 的預設版本，請以數位1或2取代 ，以代表您想要在新的 Linux 發行版本安裝上安裝的預設 WSL 版本。 例如： wsl &ndash;set-default-version 2 。 比較 WSL 1 和 WSL 2。</p></blockquote><h2 id=設定預設的-linux-散發套件>設定預設的 Linux 散發套件</h2><blockquote><p><code>wsl --set-default &lt;Distribution Name></code><br>若要設定 WSL 命令將用來執行的預設 Linux 發行版本，請將取代 為您慣用的 linux 發行版本的名稱。</p></blockquote><h2 id=將目錄變更為首頁>將目錄變更為首頁</h2><blockquote><p><code>wsl ~</code><br><code>~</code>可以與 <code>wsl</code> 搭配使用，以從使用者的主目錄啟動。<br>若要在 WSL 命令提示字元中，從任何目錄回復至首頁，您可以使用命令： <code>cd ~</code> 。</p></blockquote><h2 id=更新-wsl>更新 WSL</h2><blockquote><p><code>wsl --update</code><br>手動更新 WSL Linux 核心的版本。<br>您也可以使用命令： <code>wsl --update rollback</code> 復原至舊版的 WSL Linux 核心。</p></blockquote><h2 id=檢查-wsl-狀態>檢查 WSL 狀態</h2><blockquote><p><code>wsl --status</code><br>查看 WSL 設定的一般資訊，例如預設的散發類型、預設散發和核心版本。</p></blockquote><h2 id=關機>關機</h2><blockquote><p><code>wsl --shutdown</code><br>立即終止所有執行中的發行版本和 WSL 2 輕量公用程式虛擬機器。 需要您重新開機 WSL 2 虛擬機器環境的實例（例如 變更記憶體使用量限制 或對 wslconfig檔案進行變更）時，可能需要執行此命令。</p></blockquote><h2 id=取消註冊或卸載-linux-發行版本>取消註冊或卸載 Linux 發行版本</h2><blockquote><p><code>wsl --unregister &lt;DistributionName></code><br>以目標 Linux 發行版本的名稱取代 &lt; DistributionName > ，將會從 WSL 取消註冊該散發套件，以便重新安裝或清除該散發套件。<br>謹慎：<br>一旦取消註冊之後，與該散發相關聯的所有資料、設定和軟體將會永久遺失。 從 Microsoft Store 重新安裝將會安裝一份全新的散發套件。<br>例如， wsl &ndash;unregister Ubuntu 會從 WSL 中可用的發行版本移除 Ubuntu。 wsl &ndash;list執行會顯示它已不再列出。<br>您也可以在 Windows 電腦上卸載 Linux 發佈應用程式，就像任何其他存放區應用程式一樣。 若要重新安裝，請在 Microsoft Store 中尋找散發，然後選取 [啟動]。</p></blockquote></p></div></div></main><footer class=footer><span>&copy; 2022 Musky</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/526avijitgupta/gokarna>Gokarna</a></span></footer></body></html>